<header id="Header-{{ section.id }}" class="header">
  <div class="logo">
    <a href="{{ routes.root_url }}">
      {% if section.settings.logo %}
        {% assign target_w = section.settings.logo_width | default: 160 %}
        {% assign ar = section.settings.logo.aspect_ratio %}
        {% if ar %}
          {%- assign target_h = target_w | times: 1.0 | divided_by: ar | round -%}
          {{ section.settings.logo
            | image_url: width: target_w
            | image_tag: alt: shop.name, loading: 'eager', width: target_w, height: target_h, widths: '80,120,160,200,240,320'
          }}
        {% else %}
          {#-- SVG ou ratio inconnu : pas de height, on laisse le navigateur g√©rer --#}
          {{ section.settings.logo
            | image_url: width: target_w
            | image_tag: alt: shop.name, loading: 'eager', width: target_w
          }}
        {% endif %}
      {% else %}
        {{ shop.name }}
      {% endif %}
    </a>
  </div>
  <div class="menu">
    <nav>
      <ul>
        <li><a href="{{ routes.root_url }}">Accueil</a></li>
        <li><a href="{{ routes.collections_url }}">Collections</a></li>
        <li><a href="{{ routes.cart_url }}">Panier</a></li>
        <li><a href="{{ routes.contact_url }}">Contact</a></li>
      </ul>
    </nav>
  </div>
</header>

{% schema %}
{
  "name": "Header",
  "settings": [
    { "type": "image_picker", "id": "logo", "label": "Logo" },
    {
      "type": "range",
      "id": "logo_width",
      "label": "Largeur du logo (px)",
      "min": 60,
      "max": 320,
      "step": 10,
      "unit": "px",
      "default": 160
    }
  ],
  "presets": [{ "name": "Header" }]
}
{% endschema %}
